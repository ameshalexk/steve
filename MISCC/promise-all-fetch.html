<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise all() and Fetch</title>
    <meta name="viewport" content="width=device-width">
    <style>
        p{
            font-size: 2rem;
            font-weight: 900;
            color: crimson;
        }
    </style>
</head>
<body>
    <main class="maind">
        <h1>Using Promise all() with fetch
            <span>
                <p id="para"> lold </p>
        </span>
        </h1>
    </main>
    <div id="output">
        <!-- display the results here -->
    </div>
    <script>
        //we want to fetch multiple things
        //or multiple copies of the same thing
        let log = console.log;

        let datafile1 = fetch('./data.json');
        let datafile2 = fetch('./data.json');

        Promise.all([datafile1, datafile2])
        .then( files =>{
            files.forEach(file=>{
                process( file.json() );
            })
            //files[0].json()
            //files[1].json()
        })
        .catch(err=>{

        });

        let process = (prom) =>{
            prom.then(data=>{
                let p = document.createElement('p');
                p.textContent = JSON.stringify(data);
                document.getElementById('output').appendChild(p);
            })
        }
        // let main = document.querySelector("main");
        // let h = main.children[0];
        // let s = h.children[0];
        // let p = s.children[0];

        // // let f = h.children[0];

        // console.log(main);
        // console.log(h);
        // console.log(s);
        // console.log(p);
        // let bool = main.contains(p);
        // console.log(bool);
        // console.log(p.parentNode);

        let span = document.createElement('span');
        span.textContent = " tests span 23456789";
        let span2 = document.createElement('span');
        span2.textContent = " tests span 23456dwdwdwdwdw789";
        let html = 'tests html23456789';
        let txt = 'tests txt23456789';
        let pst = 'tests pst23456789';
        let p = document.querySelector("#para");
        let lool = document.getElementsByClassName("maind");

        p.insertAdjacentElement('beforebegin', span);
        p.insertAdjacentElement('afterbegin', span2);

        p.insertAdjacentHTML('afterbegin', html);
        p.insertAdjacentHTML('afterbegin', txt);
        console.log(lool);
        lool.insertAdjacentElement('beforebegin', html);



    </script>
</body>
</html>
